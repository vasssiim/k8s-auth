worker_processes  1;
events { worker_connections 1024; }
http {
  include       mime.types;
  sendfile      on;
  server {
    listen 80;
    server_name _;

    # Static pages
    location = / { return 302 /login.html; }
    location /login.html { root /usr/share/nginx/html; try_files /login.html =404; }
    location /signup.html { root /usr/share/nginx/html; try_files /signup.html =404; }

    # API proxy â†’ internal services in K8s or compose
    # Signup -> user-service
    location /api/signup {
      proxy_pass         http://user-service:4000/signup;
      proxy_set_header   Host $host;
      proxy_http_version 1.1;
    }
    # Login -> auth-service
    location /api/login {
      proxy_pass         http://auth-service:5000/login;
      proxy_set_header   Host $host;
      proxy_http_version 1.1;
    }
  }
}

